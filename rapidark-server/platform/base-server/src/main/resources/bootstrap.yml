server:
    # 8233
    port: ${random.int[10000,19999]}

spring:
    application:
        name: ${artifactId}
    profiles:
        active: ${profile.name}
    cloud:
        #手动配置Bus id,
        bus:
            id: ${spring.application.name}:${server.port}
        nacos:
            config:
                namespace:  ${config.namespace}
                group: DEFAULT_GROUP
                refreshable-dataids: common.properties
                server-addr: ${config.server-addr}
                shared-dataids: common.properties,db.properties,redis.properties,rabbitmq.properties
            discovery:
                namespace: ${discovery.namespace}
                server-addr: ${discovery.server-addr}
    main:
        allow-bean-definition-overriding: true
        allow-circular-references: true

    #解决restful 404错误 spring.mvc.throw-exception-if-no-handler-found=true spring.resources.add-mappings=false
    mvc:
        throw-exception-if-no-handler-found: true
        pathmatch:
            matching-strategy: ant_path_matcher
    web:
        resources:
            add-mappings: false
    mail:
        username: rapidark@qq.com
        password: 123456
        host: smtp.exmail.qq.com
        port:
        default-encoding: utf-8
        properties:
            mail:
                smtp:
                    timeout: 100000
                    auth: true
                    ssl:
                        enable: true
                    starttls:
                        enable: true
                        required: true
                    socketFactory:
                        port: 465
                        class: javax.net.ssl.SSLSocketFactory
                        fallback: false
    sqltoy:
        # 指定缓存翻译配置文件
        #translateConfig: classpath:/dataset/ltc/sqltoy-translate.xml
        # 这里要注意，指定sql文件的目录(是目录不是具体文件或文件匹配表达式),多个可以用逗号分隔，会自动向下寻找
        sqlResourcesDir: classpath:/dataset/gateway-manage
        # defaultDataSource: masterDataSource
        # 缓存翻译的配置
        #translateConfig: classpath:sqltoy-translate.xml
        # debug模式会打印执行sql
        debug: true
        # 提供统一字段:createBy createTime updateBy updateTime 等字段补漏性(为空时)赋值(可选配置)
        #unifyFieldsHandler: com.sqltoy.plugins.SqlToyUnifyFieldsHandler
        # sql执行超过多长时间则进行日志输出,用于监控哪些慢sql(可选配置:默认30秒)
        printSqlTimeoutMillis: 3000000

management:
    endpoints:
        web:
            exposure:
                include: '*'
                exclude: env,beans
    endpoint:
        health:
            show-details: ALWAYS

opencloud:
    swagger2:
        enabled: true
        description: 平台基础服务器
        title: 平台基础服务器

#mybatis plus 设置
mybatis-plus:
    #实体扫描，多个package用逗号或者分号分隔
    typeAliasesPackage: com.rapidark.cloud.base.client.**.entity
    mapper-locations: classpath:mapper/*.xml

mybatis:
    mapper:
        reload: true